<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>ReelTalk</title>
  <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.5/material.indigo-pink.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- Compiled and minified CSS -->
</head>

<body>

<script src="https://storage.googleapis.com/code.getmdl.io/1.0.5/material.min.js"></script>
<script src="./vendor/js/color-thief.min.js"></script>
<!-- Compiled and minified JavaScript -->
<script type="text/javascript" src="elm.js"></script>
<script type="text/javascript">
var reeltalk = Elm.fullscreen(Elm.App, {
  setUser: null,
  listReviews: [],
  listShows: []
});
reeltalk.ports.listReviews.send(reviewsLookup());
reeltalk.ports.listShows.send(getShows());
reeltalk.ports.requestUser.subscribe(getUser);

function getUser() {
  var me = { handle: "gziegan", firstName: "Greg", lastName: "Ziegan",
             email: "greg.ziegan@gmail.com", phone: "012-345-6789" };
  reeltalk.ports.setUser.send(me);
}

function getShows() {
  var firefly = { title: "Firefly", banner: "./mock/show/firefly/firefly-banner.jpg", poster: "./mock/show/firefly/firefly-poster.jpg", color: "red", year: "2002", mpaarating : "T", runtime: "1 season", description: "good show" };
  var buffy = { title: "Buffy", banner: "./mock/show/buffy/buffy-banner.jpg", poster: "./mock/show/buffy/buffy-poster.jpg", color: "cyan", year: "2005", mpaarating: "T", runtime: "7 seasons", description: "not bad"};
  var dollhouse = { title: "Dollhouse", banner: "./mock/show/dollhouse/dollhouse-banner.jpg", poster: "./mock/show/dollhouse/dollhouse-poster.jpg", color: "yellow", year: "2007", mpaarating: "T", runtime: "2 seasons", description: "cool"}
  return [firefly, buffy, dollhouse];
}

function reviewsLookup() {
  var firefly = { title: "Firefly", banner: "./mock/show/firefly/firefly-banner.jpg", poster: "./mock/show/firefly/firefly-poster.jpg", color: "red", year: "2002", mpaarating : "T", runtime: "1 season", description: "good show" };
  var me = { handle: "gziegan", firstName: "Greg", lastName: "Ziegan",
             email: "greg.ziegan@gmail.com", phone: "012-345-6789" };
  var reviews = [
    {show: firefly, score: 5, createdAt: (new Date).getTime(), user: me }
  ];
  return reviews;
}
</script>
</body>
</html>
